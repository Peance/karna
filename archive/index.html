---
layout: default
title: 归档
permalink: /archive/
---

{% if site.posts.size == 0 %}
  <h2你来到了不毛之地</h2>
{% endif %}

<div class="tags">
  <ul class="label">
    {% for tag in site.tags %}
    <li>
      <a href="#{{ tag[0] }}">
        <span>{{ tag[0] }}</span>
        <span class="count">{{ tag[1] | size }}</span>
      </a>
    </li>
    {% endfor %}
  </ul>

  <ul class="archive">
    {% for post in site.posts %}
      {% unless post.next %}
        <h2>{{ post.date | date: '%Y' }}年</h2>
      {% else %}
        {% capture year %}{{ post.date | date: '%Y' }}{% endcapture %}
        {% capture nyear %}{{ post.next.date | date: '%Y' }}{% endcapture %}
        {% if year != nyear %}
          <h2>{{ post.date | date: '%Y' }}</h2>
        {% endif %}
      {% endunless %}
  
      <li>
        {% if post.link %}
        <a href="{{ post.link }}">
        {% else %}
        <a href="{{ site.baseurl }}{{ post.url }}">
        {% endif %}
          {{ post.title }}
        </a>
        <time>{{ post.date | date: "%Y-%m-%d" }}</time>
      </li>
    {% endfor %}
    
  </ul>
  

  {% for tag in site.tags %}
  
    <h3 id="{{ tag[0] }}">
      {{ tag[0] }}
    </h3>
    <ul class="tag">
      {% for post in tag[1] %}
        {% if post.title != null %}
          <li>
            {% if post.link %}
              <a href="{{ post.link }}">
            {% else %}
              <a href="{{ site.baseurl }}{{ post.url }}">
            {% endif %}
                {{ post.title }}
              </a>
              <time>{{ post.date | date: "%Y-%m-%d" }}</time>
          </li>
        {% endif %}
      {% endfor %}
    </ul>
  {% endfor %}
</div>